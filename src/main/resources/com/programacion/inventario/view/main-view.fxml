<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import java.lang.String?>
<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.programacion.inventario.controller.MainController"
      prefHeight="600.0" prefWidth="800.0" spacing="20" styleClass="main-container">

    <stylesheets>
        <String fx:value="/com/programacion/inventario/styles/main-styles.css"/>
    </stylesheets>

    <!-- Header de la aplicación -->
    <HBox styleClass="header" alignment="CENTER_LEFT" spacing="20">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>
        
        <Label text="🏪" styleClass="header-icon" style="-fx-font-size: 32px;"/>
        
        <VBox spacing="5">
            <Label text="Sistema de Inventario" styleClass="header-title"/>
            <Label text="Gestión Integral de Productos y Usuarios" styleClass="header-subtitle"/>
        </VBox>
        
        <Region HBox.hgrow="ALWAYS"/>
        
        <VBox alignment="CENTER_RIGHT" spacing="5">
            <Label fx:id="userInfoLabel" text="Usuario: Admin" styleClass="user-info"/>
            <Button text="Cerrar Sesión" styleClass="logout-button" onAction="#handleLogout"/>
        </VBox>
    </HBox>

    <!-- Contenido principal -->
    <HBox spacing="0" VBox.vgrow="ALWAYS">
        
        <!-- Menú lateral -->
        <VBox styleClass="sidebar" prefWidth="250" spacing="10">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            
            <Label text="Menú Principal" styleClass="menu-title"/>
            <Separator/>
            
            <!-- Botones del menú -->
            <Button fx:id="dashboardButton" text="📊 Dashboard" styleClass="menu-button" 
                    onAction="#navigateToDashboard" maxWidth="Infinity"/>
            
            <Button fx:id="usuariosButton" text="👥 Gestión de Usuarios" styleClass="menu-button" 
                    onAction="#navigateToUsuarios" maxWidth="Infinity"/>
            
            <Button fx:id="productosButton" text="📦 Gestión de Productos" styleClass="menu-button" 
                    onAction="#navigateToProductos" maxWidth="Infinity"/>
            
            <Button fx:id="reportesButton" text="📈 Reportes" styleClass="menu-button" 
                    onAction="#navigateToReportes" maxWidth="Infinity"/>
            
            <Button fx:id="configuracionButton" text="⚙️ Configuración" styleClass="menu-button" 
                    onAction="#navigateToConfiguracion" maxWidth="Infinity"/>



            <Region VBox.vgrow="ALWAYS"/>
            
            <Separator/>
            <Label text="Sistema v1.0" styleClass="version-info"/>
        </VBox>
        
        <!-- Área de contenido -->
        <VBox styleClass="content-area" HBox.hgrow="ALWAYS" spacing="20">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30"/>
            </padding>
            
            <!-- Dashboard por defecto -->
            <VBox fx:id="dashboardContent" spacing="20" visible="true">
                <Label text="Bienvenido al Sistema de Inventario" styleClass="welcome-title"/>
                
                <Text text="Este es el panel principal desde donde puedes acceder a todas las funcionalidades del sistema." 
                      styleClass="welcome-text" wrappingWidth="600"/>
                
                <!-- Tarjetas de resumen -->
                <HBox spacing="20" alignment="CENTER">
                    <VBox styleClass="summary-card" alignment="CENTER" spacing="10">
                        <Label text="👥" style="-fx-font-size: 24px;"/>
                        <Label text="Usuarios" styleClass="card-title"/>
                        <Label fx:id="userCountLabel" text="0" styleClass="card-value"/>
                    </VBox>
                    
                    <VBox styleClass="summary-card" alignment="CENTER" spacing="10">
                        <Label text="📦" style="-fx-font-size: 24px;"/>
                        <Label text="Productos" styleClass="card-title"/>
                        <Label fx:id="productCountLabel" text="0" styleClass="card-value"/>
                    </VBox>
                    
                    <VBox styleClass="summary-card" alignment="CENTER" spacing="10">
                        <Label text="📈" style="-fx-font-size: 24px;"/>
                        <Label text="Reportes" styleClass="card-title"/>
                        <Label text="Disponibles" styleClass="card-value"/>
                    </VBox>
                </HBox>
                
                <!-- Acciones rápidas -->
                <VBox spacing="15">
                    <Label text="Acciones Rápidas:" styleClass="section-title"/>
                    <HBox spacing="15">
                        <Button text="➕ Agregar Usuario" styleClass="quick-action-button" 
                                onAction="#navigateToUsuarios"/>
                        <Button text="➕ Agregar Producto" styleClass="quick-action-button" 
                                onAction="#navigateToProductos"/>
                        <Button text="📊 Ver Reportes" styleClass="quick-action-button" 
                                onAction="#navigateToReportes"/>
                        <!-- Botón para Acerca de -->
                        <Button text="Acerca de" onAction="#navigateToAbout" styleClass="menu-button about-button"/>
                    </HBox>
                </VBox>
            </VBox>
            
            <!-- Contenido dinámico (se mostrará según la navegación) -->
            <VBox fx:id="dynamicContent" spacing="20" visible="false">
                <Label fx:id="contentTitleLabel" text="Título del Contenido" styleClass="content-title"/>
                <Label fx:id="contentDescriptionLabel" text="Descripción del contenido que se mostrará aquí." 
                       styleClass="content-description"/>
            </VBox>
        </VBox>
    </HBox>
</VBox>
